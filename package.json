{
  "name": "amakankan",
  "devDependencies": {
    "async": "^2.0.0",
    "babel-core": "^6.10.4",
    "babel-loader": "^6.2.10",
    "babel-preset-es2015": "^6.9.0",
    "babel-preset-stage-3": "^6.11.0",
    "crx": "^3.2.1",
    "eslint": "^3.1.1",
    "fixpack": "^2.3.1",
    "moment": "^2.14.1",
    "npm-run-all": "^4.0.1",
    "object-assign": "^4.1.0",
    "underscore": "^1.8.3",
    "watch": "^0.19.1",
    "webpack": "^2.2.1",
    "webpack-bundle-size-analyzer": "^2.5.0"
  },
  "private": true,
  "scripts": {
    "analyze": "webpack --json | webpack-bundle-size-analyzer",
    "build": "run-s build:common build:extensions",
    "build:chrome": "run-s build:chrome:mkdir build:chrome:images build:chrome:javascripts build:chrome:manifest",
    "build:chrome:images": "cp src/images/* dist/chrome/images/",
    "build:chrome:javascripts": "cp dist/javascripts/* dist/chrome/javascripts/",
    "build:chrome:manifest": "cp src/others/manifest-chrome.json dist/chrome/manifest.json",
    "build:chrome:mkdir": "mkdir -p dist/chrome/images dist/chrome/javascripts",
    "build:common": "run-s build:common:clean build:common:javascripts",
    "build:common:clean": "rm -rf dist/*",
    "build:common:javascripts": "NODE_ENV=production webpack",
    "build:extensions": "run-p build:chrome build:firefox",
    "build:firefox": "run-s build:firefox:mkdir build:firefox:images build:firefox:javascripts build:firefox:manifest",
    "build:firefox:images": "cp src/images/* dist/firefox/images/",
    "build:firefox:javascripts": "cp dist/javascripts/* dist/firefox/javascripts/",
    "build:firefox:manifest": "cp src/others/manifest-firefox.json dist/firefox/manifest.json",
    "build:firefox:mkdir": "mkdir -p dist/firefox/images dist/firefox/javascripts",
    "lint": "run-s lint:eslint lint:fixpack",
    "lint:eslint": "eslint src",
    "lint:fixpack": "fixpack",
    "pack": "run-s build pack:firefox pack:chrome",
    "pack:chrome": "crx pack dist/chrome --zip-output dist/amakankan-chrome.zip",
    "pack:firefox": "crx pack dist/firefox --zip-output dist/amakankan-firefox.zip && mv dist/amakankan-firefox.zip dist/amakankan-firefox.xpi",
    "test": "run-s lint pack",
    "watch": "run-s build watch:original",
    "watch:extensions": "watch 'yarn run build:extensions' src",
    "watch:original": "run-p watch:extensions watch:webpack",
    "watch:webpack": "webpack --watch"
  }
}
